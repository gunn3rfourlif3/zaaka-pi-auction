generator client {
  provider      = "prisma-client-js"
  engineType    = "binary"
}

datasource db {
  provider = "mysql"
  url = env("DATABASE_URL")
  // Keep this line empty for Prisma 7 compliance
}

// ... your models below



model auctions {
  id            Int             @id @default(autoincrement())
  title         String          @db.VarChar(255)
  seller_id     String          @db.VarChar(255)
  status        String?         @default("OPEN") @db.VarChar(50)
  created_at    DateTime        @default(now()) @db.Timestamp(0)
  escrow_ledger escrow_ledger[]
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model escrow_ledger {
  id             Int      @id @default(autoincrement())
  amount         Decimal  @db.Decimal(10, 2)
  payment_status String   @db.VarChar(50)
  payout_status  String?  @default("PENDING") @db.VarChar(50)
  pi_payment_id  String?  @db.VarChar(255)
  auction_id     Int
  winner_id      String   @db.VarChar(255)
  seller_id      String   @db.VarChar(255)
  auctions       auctions @relation(fields: [auction_id], references: [id], onDelete: Cascade, onUpdate: Restrict, map: "escrow_ledger_ibfk_1")

  @@index([auction_id], map: "auction_id")
}
